<Window x:Class="WpfIocDemo.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfIocDemo"
        mc:Ignorable="d"
        Title="WPF IoC 演示程序" Height="600" Width="900">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- 标题 -->
        <TextBlock Grid.Row="0" Text="🚀 WPF 中的 IoC (依赖注入) 演示"
                   FontSize="20" FontWeight="Bold" 
                   HorizontalAlignment="Center" 
                   Margin="0,0,0,20"/>
        
        <!-- 说明文字 -->
        <TextBlock Grid.Row="1" TextWrapping="Wrap" Margin="0,0,0,15">
            <Run Text="本程序演示了如何在 WPF 应用程序中使用依赖注入 (IoC)："/>
            <LineBreak/>
            <Run Text="• OrderService 通过构造函数注入了 IOrderRepository 和 IMessageSender"/>
            <LineBreak/>
            <Run Text="• MainViewModel 注入了 OrderService"/>
            <LineBreak/>
            <Run Text="• 所有依赖都在 App.xaml.cs 中配置，实现了松耦合设计"/>
        </TextBlock>
        
        <!-- 控制面板 -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,0,0,15">
            <TextBlock Text="订单ID：" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <TextBox Text="{Binding OrderIdInput}" Width="100" VerticalAlignment="Center" Margin="0,0,10,0"/>
            
            <Button Content="📦 创建订单" 
                    Command="{Binding PlaceOrderCommand}"
                    Padding="10,5" Margin="0,0,10,0"/>
            
            <Button Content="📊 查看订单汇总" 
                    Command="{Binding ShowOrdersCommand}"
                    Padding="10,5" Margin="0,0,10,0"/>
            
            <Button Content="🗑️ 清空输出" 
                    Command="{Binding ClearOutputCommand}"
                    Padding="10,5"/>
        </StackPanel>
        
        <!-- 输出区域 -->
        <Border Grid.Row="3" BorderBrush="Gray" BorderThickness="1" 
                Background="#F5F5F5" CornerRadius="5">
            <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="10">
                <TextBlock Text="{Binding Output}" 
                           TextWrapping="Wrap" 
                           FontFamily="Consolas"
                           FontSize="12"/>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>
